@import '../vendor/magento-ui/variables/_colors';
@import '../vendor/magento-ui/variables/_global';
@import '../vendor/magento-ui/variables/_icons';
@import '../vendor/magento-ui/variables/_messages';
@import '../vendor/magento-ui/_typography';

@function messages($type, $key) {

    // @debug "map-type" + $_map-type;

    @if map-has-key($type, $key) {
        @return map-get($type, $key);

    } @else {
        @return map-get($messages-default, $key);
    }
};

@mixin lib-message($_message-type: info) {
    @if $_message-type == info {
        @include _lib-message();
        @include _lib-message-style(
            $_message-color            : map-get($messages-default, color),
            $_message-background       : map-get($messages-default, background),
            $_message-link-color       : map-get($messages-default, link-color),
            $_message-link-color-hover : map-get($messages-default, link-color-hover),
            $_message-link-color-active: map-get($messages-default, link-color-active),
            $_message-border-color     : $message__border-color
        );
    } @else {
        $_map-type: "messages-#{$_message-type}";
        $_map-type: $_map-type;
        @include _lib-message();
        @include _lib-message-style(
        $_message-color            : messages($_map-type, color),
        $_message-background       : messages($_map-type, background),
        $_message-link-color       : messages($_map-type, link-color),
        $_message-link-color-hover : messages($_map-type, link-color-hover),
        $_message-link-color-active: messages($_map-type, link-color-active),
        $_message-border-color     : $message__border-color
        );
    }
}


@mixin _lib-message(
    $_message-padding      : $indent__s $indent__base,
    $_message-margin       : 0 0 $indent__s,
    $_message-border-radius: $message__border-radius
) {
    border-radius: $_message-border-radius;
    margin: $_message-margin;
    padding: $_message-padding;
    display: block;
    @include lib-typography(
        $_color      : false,
        $_font-size  : 13px,
        $_font-family: false,
        $_font-weight: false,
        $_font-style : false,
        $_line-height: 1.2
    );
    @include _lib-message-border($message__border-width, $message__border-style);
}

@mixin _lib-message-style(
    $_message-background       : $message-info__background,
    $_message-color            : $message-info__color,
    $_message-link-color       : $message-link__color,
    $_message-link-color-hover : $message-link__color-hover,
    $_message-link-color-active: $message-link__color-active,
    $_message-border-color     : $message__border-color
) {
    background: $_message-background;
    border-color: $_message-border-color;
    color: $_message-color;
    a {
        color: $_message-link-color;

        &:hover {
            color: $_message-link-color-hover;
        }

        &:active {
            color: $_message-link-color-active;
        }
    }
}

@mixin _lib-message-border(
    $_message-border-width: $message__border-width,
    $_message-border-style: $message__border-style
) {
    @if $_message-border-width != 0 && $_message-border-width != false && $_message-border-style != false{
        border: $_message-border-width $_message-border-style;
    }
}

.cos-info {
    @include lib-message();
}

.cos-success {
    @include lib-message(success);
}
